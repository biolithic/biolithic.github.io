const cacheName = "meloniemacbutterbelieveit-v6";
const coreAssets = [

"/butter_believe_it/",
"/butter_believe_it/index.html",
"/butter_believe_it/goboom.json",
"/butter_believe_it/manifest.json",
  
"/butter_believe_it/android-chrome-192x192.png",
"/butter_believe_it/android-chrome-512x512.png",
"/butter_believe_it/apple-touch-icon-57x57-precomposed.png",
"/butter_believe_it/apple-touch-icon-57x57.png",
"/butter_believe_it/apple-touch-icon-60x60-precomposed.png",
"/butter_believe_it/apple-touch-icon-60x60.png",
"/butter_believe_it/apple-touch-icon-72x72-precomposed.png",
"/butter_believe_it/apple-touch-icon-72x72.png",
"/butter_believe_it/apple-touch-icon-76x76-precomposed.png",
"/butter_believe_it/apple-touch-icon-76x76.png",
"/butter_believe_it/apple-touch-icon-114x114-precomposed.png",
"/butter_believe_it/apple-touch-icon-114x114.png",
"/butter_believe_it/apple-touch-icon-120x120-precomposed.png",
"/butter_believe_it/apple-touch-icon-120x120.png",
"/butter_believe_it/apple-touch-icon-144x144-precomposed.png",
"/butter_believe_it/apple-touch-icon-144x144.png",
"/butter_believe_it/apple-touch-icon-152x152-precomposed.png",
"/butter_believe_it/apple-touch-icon-152x152.png",
"/butter_believe_it/apple-touch-icon-180x180-precomposed.png",
"/butter_believe_it/apple-touch-icon-180x180.png",
"/butter_believe_it/apple-touch-icon-precomposed.png",
"/butter_believe_it/apple-touch-icon.png",
"/butter_believe_it/browserconfig.xml",
"/butter_believe_it/favicon-16x16.png",
"/butter_believe_it/favicon-32x32.png",
"/butter_believe_it/favicon.ico",
"/butter_believe_it/icon.png",
"/butter_believe_it/icon.svg",
"/butter_believe_it/mstile-150x150.png",
"/butter_believe_it/safari-pinned-tab.svg",

"/butter_believe_it/images/_4LhcPp9Isw.png",
"/butter_believe_it/images/_cxTgqnBCFA.png",
"/butter_believe_it/images/_F3w0fUpnHI.png",
"/butter_believe_it/images/_rGmbIH-Ilc.png",
"/butter_believe_it/images/_S5LEYM0LNY.png",
"/butter_believe_it/images/-szeEkVIXT0.png",
"/butter_believe_it/images/-V3Q-uUT6Ww.png",
"/butter_believe_it/images/0bANCyJ-Nfw.png",
"/butter_believe_it/images/0ceqkDyhJ0A.png",
"/butter_believe_it/images/1HVXHQgIDs0.png",
"/butter_believe_it/images/1WWxPyETp20.png",
"/butter_believe_it/images/2EtphIATTVY.png",
"/butter_believe_it/images/2xBU296IOSc.png",
"/butter_believe_it/images/2YOFIL5_1lM.png",
"/butter_believe_it/images/2ZbcQrv6h4A.png",
"/butter_believe_it/images/3-J4r3jE18A.png",
"/butter_believe_it/images/3Ae90mTyVPw.png",
"/butter_believe_it/images/3gQmgXBpefI.png",
"/butter_believe_it/images/3tMLZEfEfpk.png",
"/butter_believe_it/images/3UBnZhDoUdo.png",
"/butter_believe_it/images/4bUPnpZA7vc.png",
"/butter_believe_it/images/4DkU6pwAFSs.png",
"/butter_believe_it/images/4JwqL8RhIhE.png",
"/butter_believe_it/images/5HOKoGDu1R0.png",
"/butter_believe_it/images/5HSnu1YDvsw.png",
"/butter_believe_it/images/5nok_wj0SJc.png",
"/butter_believe_it/images/5tKlAKmr7t0.png",
"/butter_believe_it/images/5YitA7xmq2w.png",
"/butter_believe_it/images/6FxOaZB9WpU.png",
"/butter_believe_it/images/6Mu_D6ZYASE.png",
"/butter_believe_it/images/6WvGmDDIz0A.png",
"/butter_believe_it/images/7_gpJ1fayso.png",
"/butter_believe_it/images/7w7T29C4TpY.png",
"/butter_believe_it/images/8ooASUgrJEk.png",
"/butter_believe_it/images/8tV50d-goow.png",
"/butter_believe_it/images/8uKSPczUkak.png",
"/butter_believe_it/images/8UR7Oyed4ts.png",
"/butter_believe_it/images/9CuJRWd6jDw.png",
"/butter_believe_it/images/9GboiTTG35c.png",
"/butter_believe_it/images/12YPVx8X2PI.png",
"/butter_believe_it/images/20bTnXhWNjM.png",
"/butter_believe_it/images/69HtmQunvLQ.png",
"/butter_believe_it/images/77FVvdoWgbw.png",
"/butter_believe_it/images/A6ytC5C6EkY.png",
"/butter_believe_it/images/AcEfz_N8D_Y.png",
"/butter_believe_it/images/aDizTkivE04.png",
"/butter_believe_it/images/ADJ2cRqi04k.png",
"/butter_believe_it/images/aGfvxFuAlaE.png",
"/butter_believe_it/images/Ai7oIVzJuQ8.png",
"/butter_believe_it/images/AKdM4Wzy6aE.png",
"/butter_believe_it/images/aLMv0bb7_SY.png",
"/butter_believe_it/images/ax1sUKY6Cmk.png",
"/butter_believe_it/images/Bqm8hAFBWMw.png",
"/butter_believe_it/images/BwSDlNndU5w.png",
"/butter_believe_it/images/bx45DhmVbG4.png",
"/butter_believe_it/images/c9H_UiRpfAg.png",
"/butter_believe_it/images/C14U36fPgOE.png",
"/butter_believe_it/images/C39jvmKRk4A.png",
"/butter_believe_it/images/cE_grwGrSBI.png",
"/butter_believe_it/images/Ce7IWkxKCa4.png",
"/butter_believe_it/images/Cl4iY4uxJV4.png",
"/butter_believe_it/images/cPozx02Ardo.png",
"/butter_believe_it/images/D6tCF9LnIP0.png",
"/butter_believe_it/images/D7HNu6By1Rw.png",
"/butter_believe_it/images/dEKJUqdRBxw.png",
"/butter_believe_it/images/deOkGngwKyM.png",
"/butter_believe_it/images/DeS0TrbOcUk.png",
"/butter_believe_it/images/DIrWUzLfgfk.png",
"/butter_believe_it/images/DIxLiuSiHAg.png",
"/butter_believe_it/images/dswjEKLw7K8.png",
"/butter_believe_it/images/dWhZ396M4Kg.png",
"/butter_believe_it/images/dxbyuPVMbCc.png",
"/butter_believe_it/images/DXF0SBw4omg.png",
"/butter_believe_it/images/e1AspAT5jCk.png",
"/butter_believe_it/images/E9iM42yZNsk.png",
"/butter_believe_it/images/e30yl0hwaYg.png",
"/butter_believe_it/images/EA9U7v6AYPE.png",
"/butter_believe_it/images/ea77Glwwqok.png",
"/butter_believe_it/images/EBnS4_LoFVM.png",
"/butter_believe_it/images/ecIP1BdlAgg.png",
"/butter_believe_it/images/ECU6WZXwzD4.png",
"/butter_believe_it/images/eGchnywNqww.png",
"/butter_believe_it/images/egU_HeoWYdM.png",
"/butter_believe_it/images/emV8ip5NPV8.png",
"/butter_believe_it/images/EQJz1D1O3IQ.png",
"/butter_believe_it/images/ERjUL_LbT_c.png",
"/butter_believe_it/images/EtEirDkYKq8.png",
"/butter_believe_it/images/EX2hGxF_0X0.png",
"/butter_believe_it/images/F-Pssa_Rv0s.png",
"/butter_believe_it/images/fepMqWFu51E.png",
"/butter_believe_it/images/fgP01lZNlDE.png",
"/butter_believe_it/images/fgrVrkyXcrw.png",
"/butter_believe_it/images/fgzu4PHYaPw.png",
"/butter_believe_it/images/FHJVo8grtcc.png",
"/butter_believe_it/images/FKhKedcAg9o.png",
"/butter_believe_it/images/FPKyEViVgPQ.png",
"/butter_believe_it/images/ftmkeD2G214.png",
"/butter_believe_it/images/FUegDlIfZbo.png",
"/butter_believe_it/images/FzDv3XVYJDg.png",
"/butter_believe_it/images/G_2EJ08VteA.png",
"/butter_believe_it/images/G-m-sXTsWtI.png",
"/butter_believe_it/images/g8FgyiWWYzs.png",
"/butter_believe_it/images/G52WmbfsqUY.png",
"/butter_believe_it/images/gcD2pxbnAtA.png",
"/butter_believe_it/images/GD-oBNmNphw.png",
"/butter_believe_it/images/gmPNQ-aQE4A.png",
"/butter_believe_it/images/GN3q1Zr1Glg.png",
"/butter_believe_it/images/GSS2MwfbbSM.png",
"/butter_believe_it/images/gVSMl_zJwEA.png",
"/butter_believe_it/images/h2HsETaKrDw.png",
"/butter_believe_it/images/H8NV0P2t7cE.png",
"/butter_believe_it/images/hcx4go3aulc.png",
"/butter_believe_it/images/heg8rtKOtEc.png",
"/butter_believe_it/images/hgMUtqBun9o.png",
"/butter_believe_it/images/hhetypOfWX0.png",
"/butter_believe_it/images/HhmX6n728ws.png",
"/butter_believe_it/images/hmobr-gB5w0.png",
"/butter_believe_it/images/hPoP5xkzkEA.png",
"/butter_believe_it/images/HSU94U3If6o.png",
"/butter_believe_it/images/HT_vBLHaavs.png",
"/butter_believe_it/images/HVUaki-wovE.png",
"/butter_believe_it/images/I6Yqg4ISHS0.png",
"/butter_believe_it/images/iCx2H4u2jLw.png",
"/butter_believe_it/images/iGxbUt3lgOM.png",
"/butter_believe_it/images/IknI7tpYBZY.png",
"/butter_believe_it/images/iMFI4TDLhsk.png",
"/butter_believe_it/images/ImlsxUEbaIk.png",
"/butter_believe_it/images/iRE691wxQxs.png",
"/butter_believe_it/images/iVDxOz1pvqk.png",
"/butter_believe_it/images/J3feH7uR_7k.png",
"/butter_believe_it/images/J7On4DLGL3E.png",
"/butter_believe_it/images/J8-1FYeEzZM.png",
"/butter_believe_it/images/JeDzUxtXtKo.png",
"/butter_believe_it/images/JrMwZV57Myc.png",
"/butter_believe_it/images/jvpnFk42Hr4.png",
"/butter_believe_it/images/JwjBI1VKfXo.png",
"/butter_believe_it/images/JXET3ZvFuFA.png",
"/butter_believe_it/images/JYImlB-rLe8.png",
"/butter_believe_it/images/JZmtWhqszLE.png",
"/butter_believe_it/images/K_ag-c7M5NY.png",
"/butter_believe_it/images/k-xahmPQINg.png",
"/butter_believe_it/images/KaWbkrgF214.png",
"/butter_believe_it/images/KeNe1WFZGzk.png",
"/butter_believe_it/images/ki-AZeEPN7w.png",
"/butter_believe_it/images/KIhq_Eh5g-A.png",
"/butter_believe_it/images/KLmvyWIL5vA.png",
"/butter_believe_it/images/kzO9QDgZG6U.png",
"/butter_believe_it/images/l5DgM9yU2nU.png",
"/butter_believe_it/images/L07BqGj4Pqg.png",
"/butter_believe_it/images/L78rYYeNvFE.png",
"/butter_believe_it/images/laaWUmxd0b0.png",
"/butter_believe_it/images/LcIndxO4bZI.png",
"/butter_believe_it/images/lE_WPljwi_k.png",
"/butter_believe_it/images/Lfw8HL3gfz0.png",
"/butter_believe_it/images/lfZQbyI7SI8.png",
"/butter_believe_it/images/LJ7AajUOUPc.png",
"/butter_believe_it/images/LKYr4COTYDQ.png",
"/butter_believe_it/images/llISH9eiiwA.png",
"/butter_believe_it/images/lm5JH1goGcA.png",
"/butter_believe_it/images/LoAKBQpD8hI.png",
"/butter_believe_it/images/lpYodKJv-J0.png",
"/butter_believe_it/images/LUHzHBbBAn0.png",
"/butter_believe_it/images/MlisggXZiHs.png",
"/butter_believe_it/images/mOJQ1F_oSDo.png",
"/butter_believe_it/images/mOkvE5Zd_a4.png",
"/butter_believe_it/images/mY84RUEaizU.png",
"/butter_believe_it/images/mYK1ZnnnEQ0.png",
"/butter_believe_it/images/N1R_g_0I3yA.png",
"/butter_believe_it/images/n3Ooqc6cnbE.png",
"/butter_believe_it/images/N5Xg-M8lkkY.png",
"/butter_believe_it/images/NgSC4mQ8zH0.png",
"/butter_believe_it/images/nM_als-QGP0.png",
"/butter_believe_it/images/nq8sA3qcWBI.png",
"/butter_believe_it/images/NtPj-qSD4ac.png",
"/butter_believe_it/images/O1JRvhCleyQ.png",
"/butter_believe_it/images/O3-fQICf4pQ.png",
"/butter_believe_it/images/O5d3sqK-4UY.png",
"/butter_believe_it/images/OkVsjs77Hv4.png",
"/butter_believe_it/images/oNMm6gj3NOo.png",
"/butter_believe_it/images/OSf_NoFds30.png",
"/butter_believe_it/images/oUwB54SSIsc.png",
"/butter_believe_it/images/OYXR8RmMlt0.png",
"/butter_believe_it/images/P3P2dShbQc.png",
"/butter_believe_it/images/pCcIi3hbjFk.png",
"/butter_believe_it/images/PHMraoyXoGE.png",
"/butter_believe_it/images/pIzr0BCJH8M.png",
"/butter_believe_it/images/PO84poS7fIk.png",
"/butter_believe_it/images/PwISZpxCfVQ.png",
"/butter_believe_it/images/Q_pkvy7C9OM.png",
"/butter_believe_it/images/QBZsTWjJWL0.png",
"/butter_believe_it/images/QD0rXrNOkqU.png",
"/butter_believe_it/images/QFNdMbXJLHY.png",
"/butter_believe_it/images/QJ8aKcNhrbM.png",
"/butter_believe_it/images/Rkcx79FlkZc.png",
"/butter_believe_it/images/RLscmQnpfeg.png",
"/butter_believe_it/images/Rmu3s2Jnji4.png",
"/butter_believe_it/images/RowpDyy7DXs.png",
"/butter_believe_it/images/RrO1CmqdnWs.png",
"/butter_believe_it/images/rrZHDcpJw_E.png",
"/butter_believe_it/images/RUFfElWCr5A.png",
"/butter_believe_it/images/rvkQixmNYlo.png",
"/butter_believe_it/images/RXykcwN7Y-w.png",
"/butter_believe_it/images/RYFrikrUEII.png",
"/butter_believe_it/images/S7aj3Wz61Tg.png",
"/butter_believe_it/images/S52N-xr_p_Y.png",
"/butter_believe_it/images/Sg22g8B0xNw.png",
"/butter_believe_it/images/SHFsX36Y1uA.png",
"/butter_believe_it/images/SKI-dNM2fbc.png",
"/butter_believe_it/images/SqAz_DyPLRo.png",
"/butter_believe_it/images/SXjBhfUEb3s.png",
"/butter_believe_it/images/SXv-ol22jMw.png",
"/butter_believe_it/images/T1EBpTeSD40.png",
"/butter_believe_it/images/t6dN1IfOlmw.png",
"/butter_believe_it/images/t8Ql9ntBQSY.png",
"/butter_believe_it/images/tadBBGMeXJI.png",
"/butter_believe_it/images/tf3s-WdCJUQ.png",
"/butter_believe_it/images/ThHol35nLQo.png",
"/butter_believe_it/images/tj857UcXM9w.png",
"/butter_believe_it/images/TORhCaaM6yQ.png",
"/butter_believe_it/images/Tp3yDEQkfCw.png",
"/butter_believe_it/images/TQIEu3d02qQ.png",
"/butter_believe_it/images/TQOUKL8dbsI.png",
"/butter_believe_it/images/u2HeVH_YTrQ.png",
"/butter_believe_it/images/U8gORvb7l4A.png",
"/butter_believe_it/images/U323ymHmInM.png",
"/butter_believe_it/images/ueRlTGWyZk0.png",
"/butter_believe_it/images/UNmGPIwKazs.png",
"/butter_believe_it/images/UOG3RA3Tk1k.png",
"/butter_believe_it/images/uqOn9w-OrqY.png",
"/butter_believe_it/images/uRxcIXoYmp0.png",
"/butter_believe_it/images/V2ltzRCQHfc.png",
"/butter_believe_it/images/VbYvWwLP2Cw.png",
"/butter_believe_it/images/VD19e4Vwb_U.png",
"/butter_believe_it/images/vm9cs7ubFDU.png",
"/butter_believe_it/images/VWfSO8wIl48.png",
"/butter_believe_it/images/VWs3iQHbEE8.png",
"/butter_believe_it/images/vxx9dPtHl0E.png",
"/butter_believe_it/images/W4K0vnsyVic.png",
"/butter_believe_it/images/waJDjAARRJE.png",
"/butter_believe_it/images/WcfYh5suE2M.png",
"/butter_believe_it/images/wE3LEQ7e2nU.png",
"/butter_believe_it/images/Wewpf8VAic8.png",
"/butter_believe_it/images/wPp15-_mhRk.png",
"/butter_believe_it/images/wrnZe9GTQZM.png",
"/butter_believe_it/images/x716OOiXxOk.png",
"/butter_believe_it/images/xGzFCshjxq4.png",
"/butter_believe_it/images/XMK8mGlvTxA.png",
"/butter_believe_it/images/XPxwSxtS0hk.png",
"/butter_believe_it/images/XS6S6KoEjjU.png",
"/butter_believe_it/images/XsHUsZmSLl4.png",
"/butter_believe_it/images/xtllcx5bOrg.png",
"/butter_believe_it/images/xyvxgntfr8s.png",
"/butter_believe_it/images/y_SKFTYOmCg.png",
"/butter_believe_it/images/y6CEcK9S7XA.png",
"/butter_believe_it/images/y61EX10jvLo.png",
"/butter_believe_it/images/Y943LTwdgDQ.png",
"/butter_believe_it/images/yDgUnyy_23Q.png",
"/butter_believe_it/images/ydM0V7TiMmo.png",
"/butter_believe_it/images/YfHVsLVRRyo.png",
"/butter_believe_it/images/yg5uIWNbLh4.png",
"/butter_believe_it/images/yjSfdla2zEk.png",
"/butter_believe_it/images/YLMwnCwWcoY.png",
"/butter_believe_it/images/yP1i7H1drcE.png",
"/butter_believe_it/images/yuVRdxgP2jg.png",
"/butter_believe_it/images/Ywrm4N_NeVg.png",
"/butter_believe_it/images/Z1yEWM6JtsA.png",
"/butter_believe_it/images/z26T9lAcld0.png",
"/butter_believe_it/images/ZabvcDTvVXQ.png",
"/butter_believe_it/images/zBn2idm7XLk.png",
"/butter_believe_it/images/ZsF4S7mYATc.png",
"/butter_believe_it/images/ZuTHVmoFwvI.png",
"/butter_believe_it/images/GhohnRtz1Ko.png",
"/butter_believe_it/images/rsbBKv6g0Tw.png"
];


// On install, cache core assets
self.addEventListener('install', function (event) {

  // Cache core assets
  event.waitUntil(caches.open(cacheName).then(function (cache) {
    for (let asset of coreAssets) {
      cache.add(new Request(asset));
    }
    return cache;
  }));

});

// Listen for request events
self.addEventListener('fetch', function (event) {

  // Get the request
  let request = event.request;

  // Bug fix
  // https://stackoverflow.com/a/49719964
  if (event.request.cache === 'only-if-cached' && event.request.mode !== 'same-origin') return;

  // HTML files
  // Network-first
  if (request.headers.get('Accept').includes('text/html')) {
    event.respondWith(
      fetch(request).then(function (response) {

        // Create a copy of the response and save it to the cache
        let copy = response.clone();
        event.waitUntil(caches.open(cacheName).then(function (cache) {
          return cache.put(request, copy);
        }));

        // Return the response
        return response;

      }).catch(function (error) {

        // If there's no item in cache, respond with a fallback
        return caches.match(request).then(function (response) {
          return response || caches.match('/index.html');
        });

      })
    );
  }

  // CSS & JavaScript
  // Offline-first
  if (request.headers.get('Accept').includes('text/css') || request.headers.get('Accept').includes('text/javascript')) {
    event.respondWith(
      caches.match(request).then(function (response) {
        return response || fetch(request).then(function (response) {

          // Return the response
          return response;

        });
      })
    );
    return;
  }

  // Images
  // Offline-first
  if (request.headers.get('Accept').includes('image')) {
    event.respondWith(
      caches.match(request).then(function (response) {
        return response || fetch(request).then(function (response) {

          // Save a copy of it in cache
          let copy = response.clone();
          event.waitUntil(caches.open(cacheName).then(function (cache) {
            return cache.put(request, copy);
          }));

          // Return the response
          return response;

        });
      })
    );
  }

});